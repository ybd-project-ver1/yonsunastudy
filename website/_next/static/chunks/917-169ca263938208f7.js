"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{9917:function(t,e,r){r.d(e,{ZP:function(){return k}});class s extends Error{response;request;options;constructor(t,e,r){let s=t.status||0===t.status?t.status:"",o=t.statusText||"",i=`${s} ${o}`.trim();super(`Request failed with ${i?`status code ${i}`:"an unknown error"}: ${e.method} ${e.url}`),this.name="HTTPError",this.response=t,this.request=e,this.options=r}}class o extends Error{request;constructor(t){super(`Request timed out: ${t.method} ${t.url}`),this.name="TimeoutError",this.request=t}}let i=t=>null!==t&&"object"==typeof t,n=(...t)=>{for(let e of t)if((!i(e)||Array.isArray(e))&&void 0!==e)throw TypeError("The `options` argument must be an object");return l({},...t)},a=(t={},e={})=>{let r=new globalThis.Headers(t),s=e instanceof globalThis.Headers;for(let[t,o]of new globalThis.Headers(e).entries())s&&"undefined"===o||void 0===o?r.delete(t):r.set(t,o);return r};function h(t,e,r){return Object.hasOwn(e,r)&&void 0===e[r]?[]:l(t[r]??[],e[r]??[])}let u=(t={},e={})=>({beforeRequest:h(t,e,"beforeRequest"),beforeRetry:h(t,e,"beforeRetry"),afterResponse:h(t,e,"afterResponse"),beforeError:h(t,e,"beforeError")}),l=(...t)=>{let e={},r={},s={};for(let o of t)if(Array.isArray(o))Array.isArray(e)||(e=[]),e=[...e,...o];else if(i(o)){for(let[t,r]of Object.entries(o))i(r)&&t in e&&(r=l(e[t],r)),e={...e,[t]:r};i(o.hooks)&&(s=u(s,o.hooks),e.hooks=s),i(o.headers)&&(r=a(r,o.headers),e.headers=r)}return e},p=(()=>{let t=!1,e=!1,r="function"==typeof globalThis.Request;if("function"==typeof globalThis.ReadableStream&&r)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")}catch(t){if(t instanceof Error&&"unsupported BodyInit type"===t.message)return!1;throw t}return t&&!e})(),f="function"==typeof globalThis.AbortController,c="function"==typeof globalThis.ReadableStream,d="function"==typeof globalThis.FormData,y=["get","post","put","patch","head","delete"],_={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},b=Symbol("stop"),m={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},w={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},g=t=>y.includes(t)?t.toUpperCase():t,R={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3},T=(t={})=>{if("number"==typeof t)return{...R,limit:t};if(t.methods&&!Array.isArray(t.methods))throw Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw Error("retry.statusCodes must be an array");return{...R,...t}};async function q(t,e,r,s){return new Promise((i,n)=>{let a=setTimeout(()=>{r&&r.abort(),n(new o(t))},s.timeout);s.fetch(t,e).then(i).catch(n).then(()=>{clearTimeout(a)})})}async function E(t,{signal:e}){return new Promise((r,s)=>{function o(){clearTimeout(i),s(e.reason)}e&&(e.throwIfAborted(),e.addEventListener("abort",o,{once:!0}));let i=setTimeout(()=>{e?.removeEventListener("abort",o),r()},t)})}let C=(t,e)=>{let r={};for(let s in e)s in w||s in m||s in t||(r[s]=e[s]);return r};class x{static create(t,e){let r=new x(t,e),o=async()=>{if("number"==typeof r._options.timeout&&r._options.timeout>2147483647)throw RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let t=await r._fetch();for(let e of r._options.hooks.afterResponse){let s=await e(r.request,r._options,r._decorateResponse(t.clone()));s instanceof globalThis.Response&&(t=s)}if(r._decorateResponse(t),!t.ok&&r._options.throwHttpErrors){let e=new s(t,r.request,r._options);for(let t of r._options.hooks.beforeError)e=await t(e);throw e}if(r._options.onDownloadProgress){if("function"!=typeof r._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!c)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(t.clone(),r._options.onDownloadProgress)}return t},i=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(o):o();for(let[t,s]of Object.entries(_))i[t]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||s);let o=(await i).clone();if("json"===t){if(204===o.status||0===(await o.clone().arrayBuffer()).byteLength)return"";if(e.parseJson)return e.parseJson(await o.text())}return o[t]()};return i}request;abortController;_retryCount=0;_input;_options;constructor(t,e={}){if(this._input=t,this._options={...e,headers:a(this._input.headers,e.headers),hooks:u({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},e.hooks),method:g(e.method??this._input.method),prefixUrl:String(e.prefixUrl||""),retry:T(e.retry),throwHttpErrors:!1!==e.throwHttpErrors,timeout:e.timeout??1e4,fetch:e.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(f){this.abortController=new globalThis.AbortController;let t=this._options.signal??this._input.signal;t?.addEventListener("abort",()=>{this.abortController.abort(t.reason)}),this._options.signal=this.abortController.signal}if(p&&(this._options.duplex="half"),void 0!==this._options.json&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let t="string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),e=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,"?"+t);(d&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(e,{...this.request}),this._options)}}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount>this._options.retry.limit||t instanceof o)throw t;if(t instanceof s){if(!this._options.retry.statusCodes.includes(t.response.status))throw t;let e=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){let t=1e3*Number(e);Number.isNaN(t)?t=Date.parse(e)-Date.now():t>=Date.parse("2024-01-01")&&(t-=Date.now());let r=this._options.retry.maxRetryAfter??t;return t<r?t:r}if(413===t.response.status)throw t}let e=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,e)}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(r){let e=Math.min(this._calculateRetryDelay(r),2147483647);if(this._retryCount<1)throw r;for(let t of(await E(e,{signal:this._options.signal}),this._options.hooks.beforeRetry))if(await t({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===b)return;return this._retry(t)}}async _fetch(){for(let t of this._options.hooks.beforeRequest){let e=await t(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}let t=C(this.request,this._options),e=this.request;return(this.request=e.clone(),!1===this._options.timeout)?this._options.fetch(e,t):q(e,t,this.abortController,this._options)}_stream(t,e){let r=Number(t.headers.get("content-length"))||0,s=0;return 204===t.status?(e&&e({percent:1,totalBytes:r,transferredBytes:s},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){let i=t.body.getReader();async function n(){let{done:t,value:a}=await i.read();if(t){o.close();return}e&&(s+=a.byteLength,e({percent:0===r?0:s/r,transferredBytes:s,totalBytes:r},a)),o.enqueue(a),await n()}e&&e({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await n()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}let P=t=>{let e=(e,r)=>x.create(e,n(t,r));for(let r of y)e[r]=(e,s)=>x.create(e,n(t,s,{method:r}));return e.create=t=>P(n(t)),e.extend=e=>("function"==typeof e&&(e=e(t??{})),P(n(t,e))),e.stop=b,e};var k=P()}}]);